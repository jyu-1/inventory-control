<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    Customer Sales Data
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>
  <h1>
    Customer Sales Data
  </h1>
  <ul>
    <% sales.forEach(function(user) { %>
      <li class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
        <span>
          <%= user.customer.email %> -
        </span>
        <span>
          <%= user.customer.gender %> -
        </span>
        <span>
          <%= user.customer.age %>
        </span>
        <div>
          Customer Rating: <%= user.customer.satisfaction %>
        </div>
        <div>Sales: <%= user.saleDate.toString().substring(4,21) %> - <%= user.storeLocation %>
        </div>
        <div>Purchase Method: <%= user.purchaseMethod%>
        </div>
        <% if(user.couponUsed) { %>
          <div>Coupon was Used</div>
          <% } %>
            <ul>
              <%user.items.forEach(function(item) { %>
                <li class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
                  <div>
                    <%= item.name %>
                  </div>
                  <div>
                    Price: <%= item.price %>
                  </div>
                  <div>
                    Quantity: <%= item.quantity %>
                  </div>
                </li>
                <% }); %>
            </ul>
      </li>
      <% }); %>
  </ul>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
</body>

</html>